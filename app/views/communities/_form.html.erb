<%= form_for(@community) do |f| %>

    <% if @community.errors.any? %>
        <div id="error_explanation" class="alert-box alert radius">
          <h5><%= pluralize(@community.errors.count, "error") %> prohibited this post from being saved:</h5>

          <ul>
            <% @community.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="row">
      <div class="large-4 columns">
        <fieldset>
          <legend>Details</legend>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :name, placeholder: :name, autofocus: 'autofocus', actionname: action_name %>
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :color, placeholder: :color, actionname: action_name %>
            </div>
          </div>

          <% if action_name == 'new' %>
              <div class="row">
                <div class="large-12 columns">

                  <div class="row collapse">
                    <div class="small-10 columns">
                      <%= text_field_tag 'Default Location', '', placeholder: 'Default Location',
                                         class: 'new-location' %>
                    </div>
                    <div class="small-2 columns">
                      <a href="#" class="button postfix location-button">Search</a>
                    </div>
                  </div>
                </div>
              </div>
          <% end %>

        </fieldset>
      </div>
    </div>

    <div class="row map-row hidden">
      <div class="large-4 columns">
        <fieldset>
          <legend>Location</legend>
          <div class="map-container">
            <div id="map" class="new-map"></div>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="row">
      <div class="large-4 columns">
        <%= f.label :description %>
        <%= f.text_area :description, placeholder: :description %>
      </div>
    </div>

    <div class="row">
      <div class="large-4 columns">
        <fieldset>
          <legend>Web Links</legend>

          <div class="row">
            <div class="large-12 columns">

              <%= f.text_field :home_page, placeholder: 'http://community_website', actionname: action_name %>
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :facebook_link, placeholder: 'http://facebook_page', actionname: action_name %>
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :twitter_link, placeholder: 'http://twitter_page' %>
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :google_link, placeholder: 'http://google_plus_page', actionname: action_name %>
            </div>
          </div>

          <div class="row">
            <div class="large-12 columns">
              <%= f.text_field :events_url, placeholder: :events_url, actionname: action_name %>
            </div>
          </div>

        </fieldset>
      </div>
    </div>


    <div class="row">
      <div class="large-4 columns">
        <fieldset>
          <legend>Upload Photo</legend>

          <div class="row">
            <div class="large-12 columns">
              <%= image_tag 'avatar.png', class: 'hidden image_to_upload' %>
              <br/><br/>

              <%= f.file_field :image, class: 'photo_upload' %>
              <%= hidden_field_tag :retained_photo %>
            </div>
          </div>

        </fieldset>
      </div>
    </div>

    <br/><br/>

    <div class="row">
      <div class="large-4 columns actions">
        <%= button_tag type: 'submit', class: 'button small success' do %>
            <%= image_tag 'save-icon.svg', class: 'ty-icon' %>
            &nbsp;
            Save Community
        <% end %>

        &nbsp;&nbsp;&nbsp;&nbsp;
        <%= link_to 'Cancel', request.referrer %>
      </div>
    </div>
<% end %>

<br/><br/>

<% if action_name == 'edit' %>
    <%= link_to 'Delete', @community, method: :delete, class: 'grey', data: { confirm: 'Are you sure?' } %>
<% end %>
