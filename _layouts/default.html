<!DOCTYPE html>
<html>

  {% include head.html %}

  <body>

    {% include header.html %}

    <div class="page-content">
      <div class="main">
        {{ content }}
      </div>
    </div>

    {% include footer.html %}

  </body>

  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="js/foundation.min.js"></script>
  <script src="js/foundation/foundation.topbar.js"></script>
  <script>
    $(document).foundation();

    $(document).ready(function() {
      $('.copyright-year').html(new Date().getFullYear());
      stickyFooter();
    })

    function stickyFooter() {
      if (document.getElementsByTagName("footer")[0].getAttribute("style") != null) {
        document.getElementsByTagName("footer")[0].removeAttribute("style");
      }

      if (window.innerHeight != document.body.offsetHeight) {
        var offset = window.innerHeight - document.body.offsetHeight;
        var current = getCSS("footer", "margin-top");

        if (isNaN(current) == true) {
          document.getElementsByTagName("footer")[0].setAttribute("style","margin-top:0px;");
          current = 0;
          } else {
          current = parseInt(current);
        }

        if (current+offset > parseInt(getCSS("footer", "margin-top"))) {
          document.getElementsByTagName("footer")[0].setAttribute("style","margin-top:"+(current+offset)+"px;");
        }
      }
    }

    //lets get the marginTop for the <footer>
    function getCSS(element, property) {

      var elem = document.getElementsByTagName(element)[0];
      var css = null;

      if (elem.currentStyle) {
        css = elem.currentStyle[property];

        } else if (window.getComputedStyle) {
        css = document.defaultView.getComputedStyle(elem, null).
        getPropertyValue(property);
      }

      return css;

    }
  </script>

</html>
